<!DOCTYPE html>
<html>

<head>
  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
  <title>Crypto tester</title>
  <link rel="stylesheet" href="css/index-css.css">
  <script type="text/javascript" src="js/index-js.js"></script>

  <script>
      function login(){
        var email = document.getElementById('Email').value;
        var pwd = document.getElementById('Password').value;
        console.log(email);
        console.log(pwd);
        var xmlhttp = new XMLHttpRequest(); // new HttpRequest instance
        xmlhttp.open("POST", "http://localhost:9999/login");
        xmlhttp.setRequestHeader("Content-Type", "application/json");
        var response = xmlhttp.send(JSON.stringify({
          "email": email,
          "password": pwd
        }));
        //var jsonObject = JSON.parse(xmlhttp.responseText);
        //console.log(jsonObject);
        console.log(xmlhttp.responseText);
        if (xmlhttp.responseText!="False"){
          window.alert('You are successfully logged in!');
        }
        else{
          window.alert('Something wrong either username or password! Try Again!');
        }
        window.location.href = "http://localhost/help/hackathon/webapp/index.html";
        return false;
      }

      function signup(){
        var email= document.getElementById('email1').value;
        var pwd = document.getElementById('password1').value;
        console.log(email);
        console.log(pwd);
        var xmlhttp = new XMLHttpRequest(); // new HttpRequest instance
        xmlhttp.open("POST", "http://localhost:9999/signup");
        xmlhttp.setRequestHeader("Content-Type", "application/json");
        var response = xmlhttp.send(JSON.stringify({
          "email": email,
          "password": pwd
        }));
        console.log(response);
        if (response!="False"){
          window.alert('You have been successfully signed up!');
          window.location.href = "http://localhost/help/hackathon/webapp/index.html";
          return false;
        }
        else{
          window.alert('Uh-Oh! Something wrong. Try Again!');
        }
        return false;
      }
  </script>
</head>

<body>
  <div id="box" class="log-in">
    <div class="head-nav">
      <span class="log-in">Login</span>
      <span class="sign-up">Sign Up</span>
    </div>
    <div class="image"></div>
    <div id="log-in" class="block-form">
      <div class="input-block input-lenght input-val">
        <span class="input-value">Login</span>
        <input id="Email" type="text" name="login" value="start input">
        <i class="input-icon"></i>
        <i class="val-icon"></i>
      </div>
      <div class="input-block none">
        <span class="input-value">Password</span>
        <input id="Password" type="password" name="password">
        <i class="input-icon"></i>
        <i class="val-icon"></i>
      </div>
      <div class="checkbox-box">
        <input type="checkbox" id="chck_remember" class="checkbox-custom" value="1" name="rememberme">
        <label class="block-label" for="chck_remember">Alternative animation</label>
      </div>
      <div class="submit-block">
        <span class="left"></span>
        <span class="right"></span>
        <input type="submit" name="submit-login" onclick="login()" value="">
      </div>
    </div>
    <div id="sign-up" class="block-form" style="display: none;">
      <div class="input-block none">
        <span class="input-value">Login</span>
        <input type="text" name="login" value="start input">
        <i class="input-icon"></i>
        <i class="val-icon"></i>
      </div>
      <div class="input-block none">
        <span class="input-value">E-mail</span>
        <input id="email1" type="email" name="email">
        <i class="input-icon"></i>
        <i class="val-icon"></i>
      </div>
      <div class="input-block none">
        <span class="input-value">Password</span>
        <input id="password1" type="password" name="password">
        <i class="input-icon"></i>
        <i class="val-icon"></i>
      </div>
      <div class="input-block none">
        <span class="input-value">Retype password</span>
        <input type="password" name="password">
        <i class="input-icon"></i>
        <i class="val-icon"></i>
      </div>
      <div class="submit-block">
        <span class="left"></span>
        <span class="right"></span>
        <input onclick="signup()"type="submit" name="submit-signup" value="">
      </div>
    </div>
  </div>
</body>

</html>
